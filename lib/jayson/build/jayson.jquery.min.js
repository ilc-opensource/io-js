(function(c,l){function h(a,d,g,e){if("string"!==c.type(a))throw new TypeError(a+" must be a string");if(!d||!c.isPlainObject(d)&&!c.isArray(d))throw new TypeError(d+" must be an object or an array");e=e||{};a={jsonrpc:"2.0",params:d,method:a};"undefined"===c.type(g)?a.id=("function"===typeof e.generator?e.generator:f)(a):a.id=g;return a}function f(){return Math.round(Math.random()*Math.pow(2,24))}var b=function(a){if(!(this instanceof b))return new b(a);this.options=c.extend({dataType:"json",type:"POST",
processData:!1,generator:f,headers:{"Content-Type":"application/json"}},a||{})};window.Jayson=b;b.prototype.request=function(a,d,g,e){var b=c.extend({},this.options,{error:function(a,d,b){e(c.makeArray(arguments))},success:function(a,c,d){e(null,a)}});try{var f=h(a,d,g);b.data=b.processData?f:JSON.stringify(f)}catch(k){return e(k)}c.ajax(b)};c.fn.jayson=function(a){a=a||{};(new b(a)).request(a.method,a.params,a.id,{generator:a.generator},function(d,b){if(d){if(c.isFunction(a.error))return a.error.apply(a.error,
d)}else c.isFunction(a.response)&&(2===a.response.length?b.error?a.response(b.error):a.response(null,b.result):a.response(b))});return this};"function"===typeof define&&define("jayson",[],function(){return b})})(jQuery);
